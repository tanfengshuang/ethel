{% import "macros/form.html" as f %}
{% import "macros/breadcrumb.html" as b %}

{# Macro for the View Account Tab #}
{% macro view(form) %}
{{ b.breadcrumb(['Accounts', 'View'])}}
<div class="page-header">
  <h1>View Account</h1>
</div>
<div class="container-fluid">
  <div class="row">
    {#- Display the form #}
    <div class="col-sm-12 col-md-8">
    {{ f.render_form(form, id='account_view') }}
    </div>
    {#- Show the TIPs on the right #}
    <div class="col-sm-12 col-md-4">
      <div class="alert alert-info">
        <span class="pficon pficon-info"></span>
        <p>Sometimes, especially when your account contains a lot of subscriptions, it may take a while until all data are successfully retrieved. Be patient please.</p>
      </div>
    </div>
  </div>
  {#- Row for a DataTable containing data about the account #}
  <div class='row'>
    {#- Dynamically updated heading #}
    <h2>Attached Subscriptions <small class='hidden'>for '<span class="username"></span>'</small></h2>

    {#- Placeholder instead of empty table -#}
    <div id="account_details_placeholder" class="blank-slate-pf">
      <div class="blank-slate-pf-icon">
        <i class="pficon pficon-topology"></i>
      </div>
      <h1>Attached Subscriptions</h1>
      <p>In order to display all available subscriptions for a Stage Candlepin account, please enter your credentials.</p>
    </div>

    {#- When the data are being loaded by Ethel, display a progress bar with notes -#}
    <div id="account_details_pending" class="blank-slate-pf hidden">
      <div class="blank-slate-pf-icon">
        <i class="pficon pficon-topology"></i>
      </div>
      <h1>Searching for suitable results...</h1>
      <div class="blank-slate-pf-main-action">
        <div class="progress progress-striped active">
          <div class="progress-bar" role="progressbar" style="width: 45%">
          </div>
        </div>
      </div>
    </div>

    {#- The actual DataTable -#}
    <div id="account_details_result" class="hidden">
      <div class="table-responsive">
        <table class="datatable table table-striped table-bordered table-hover table-clickable">
          <tbody>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

{% endmacro %}
